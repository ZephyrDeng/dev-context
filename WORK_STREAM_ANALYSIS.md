# GitHub Issue #5 - æ ¸å¿ƒMCPå·¥å…·ä¸šåŠ¡é€»è¾‘ - ç»¼åˆå·¥ä½œæµåˆ†æ

## é¡¹ç›®æ¦‚è¿°

æœ¬æ–‡æ¡£æä¾›äº†GitHub Issue #5çš„å…¨é¢å·¥ä½œæµåˆ†æï¼Œæ¶µç›–ä¸‰ä¸ªæ ¸å¿ƒMCPå·¥å…·çš„å®ç°ï¼š`get_weekly_frontend_news`ã€`search_frontend_topic`å’Œ`get_trending_repositories`ã€‚

## å·²å®Œæˆçš„æ¶æ„åˆ†æ

### ç°æœ‰ç»„ä»¶é›†æˆç‚¹

#### 1. Cacheå±‚ (internal/cache/)
- **Manager**: ä¸»ç¼“å­˜ç®¡ç†å™¨ï¼Œæ”¯æŒTTLå’ŒLRUç­–ç•¥
- **Concurrency**: å¹¶å‘å®‰å…¨çš„ç¼“å­˜æ“ä½œ
- **Coalescing**: è¯·æ±‚åˆå¹¶ï¼Œé¿å…é‡å¤è°ƒç”¨
- **Metrics**: ç¼“å­˜æ€§èƒ½ç›‘æ§
- **é›†æˆä¼˜åŠ¿**: è‡ªåŠ¨ç¼“å­˜çƒ­é—¨æ•°æ®ï¼Œæ˜¾è‘—æå‡å“åº”é€Ÿåº¦

#### 2. Collectorå±‚ (internal/collector/)
- **Manager**: ç»Ÿä¸€æ•°æ®æ”¶é›†ç®¡ç†
- **API**: GitHub APIç­‰RESTfulæ¥å£æ”¶é›†
- **RSS**: RSS feedæ•°æ®æ”¶é›†
- **HTML**: ç½‘é¡µå†…å®¹æŠ“å–
- **é›†æˆä¼˜åŠ¿**: å¤šæºæ•°æ®ç»Ÿä¸€æ”¶é›†ï¼Œæ”¯æŒå¹¶å‘å’Œé”™è¯¯å¤„ç†

#### 3. Processorå±‚ (internal/processor/)
- **Converter**: æ•°æ®æ ¼å¼è½¬æ¢å’Œæ ‡å‡†åŒ–
- **Sorter**: å¤šç»´åº¦æ’åºç®—æ³•
- **Summarizer**: å†…å®¹æ‘˜è¦å’Œå…³é”®è¯æå–
- **é›†æˆä¼˜åŠ¿**: æ™ºèƒ½æ•°æ®å¤„ç†ï¼Œæå‡å†…å®¹è´¨é‡

#### 4. Formatterå±‚ (internal/formatter/)
- **å¤šæ ¼å¼æ”¯æŒ**: JSON, Markdown, Textè¾“å‡º
- **BatchFormatter**: å¤§æ•°æ®é›†æ‰¹é‡å¤„ç†
- **æ¨¡æ¿åŒ–**: ç»Ÿä¸€è¾“å‡ºæ ¼å¼å’Œæ ·å¼
- **é›†æˆä¼˜åŠ¿**: çµæ´»çš„è¾“å‡ºæ ¼å¼ï¼Œä¼˜åŒ–ç”¨æˆ·ä½“éªŒ

#### 5. Modelså±‚ (internal/models/)
- **Article**: ç»Ÿä¸€æ–°é—»æ–‡ç« æ•°æ®ç»“æ„
- **Repository**: ä»£ç ä»“åº“æ ‡å‡†åŒ–æ¨¡å‹
- **éªŒè¯å’Œè®¡ç®—**: å†…ç½®è´¨é‡è¯„åˆ†å’Œç›¸å…³æ€§ç®—æ³•
- **é›†æˆä¼˜åŠ¿**: ç±»å‹å®‰å…¨ï¼Œç»Ÿä¸€æ•°æ®æ ‡å‡†

## å®ç°æ¶æ„

### æ ¸å¿ƒæœåŠ¡æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    MCP Handler Layer                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ Weekly News     â”‚ â”‚ Topic Search    â”‚ â”‚ Trending Repos  â”‚â”‚
â”‚  â”‚ Service         â”‚ â”‚ Service         â”‚ â”‚ Service         â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Validation Layer                         â”‚
â”‚                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚                  â”‚   Validator     â”‚                       â”‚
â”‚                  â”‚   - å‚æ•°éªŒè¯     â”‚                       â”‚
â”‚                  â”‚   - é”™è¯¯å¤„ç†     â”‚                       â”‚
â”‚                  â”‚   - å®‰å…¨æ¸…ç†     â”‚                       â”‚
â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Core Component Layer                       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚   Cache     â”‚ â”‚ Collector   â”‚ â”‚ Processor   â”‚ â”‚ Formatter â”‚â”‚
â”‚ â”‚  Manager    â”‚ â”‚  Manager    â”‚ â”‚   Engine    â”‚ â”‚  Factory  â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1. å‘¨æŠ¥æ–°é—»æœåŠ¡ (get_weekly_frontend_news)

#### åŠŸèƒ½ç‰¹æ€§
- **æ—¶é—´èŒƒå›´æŸ¥è¯¢**: æ”¯æŒçµæ´»çš„æ—¥æœŸèŒƒå›´è®¾ç½®
- **å¤šç»´åº¦è¿‡æ»¤**: æŒ‰åˆ†ç±»ã€è´¨é‡åˆ†æ•°ã€æ•°æ®æºè¿‡æ»¤
- **æ™ºèƒ½æ’åº**: ç›¸å…³æ€§ã€è´¨é‡ã€æ—¶é—´ç­‰å¤šç§æ’åº
- **æ•°æ®æºé›†æˆ**: Dev.to, Hacker News, Reddit, Medium

#### æŠ€æœ¯å®ç°
```go
type WeeklyNewsService struct {
    cacheManager    *cache.Manager      // ç¼“å­˜ç®¡ç†
    collectorMgr    *collector.Manager  // æ•°æ®æ”¶é›†
    processor       *processor.Processor // æ•°æ®å¤„ç†
    formatterFactory *formatter.FormatterFactory // æ ¼å¼åŒ–
}
```

#### æ ¸å¿ƒæµç¨‹
1. **å‚æ•°éªŒè¯**: éªŒè¯æ—¶é—´èŒƒå›´ã€åˆ†ç±»ã€è´¨é‡åˆ†æ•°ç­‰å‚æ•°
2. **ç¼“å­˜æ£€æŸ¥**: æ£€æŸ¥æ˜¯å¦å­˜åœ¨æœ‰æ•ˆç¼“å­˜æ•°æ®
3. **å¹¶å‘æ”¶é›†**: å¤šæºæ•°æ®å¹¶å‘æ”¶é›†ï¼Œæœ€å¤§5ä¸ªå¹¶å‘è¿æ¥
4. **æ•°æ®å¤„ç†**: å»é‡ã€è¿‡æ»¤ã€è¯„åˆ†ã€æ’åº
5. **ç»“æœæ„å»º**: ç”Ÿæˆç»Ÿè®¡æ‘˜è¦å’Œæºä¿¡æ¯
6. **ç¼“å­˜å­˜å‚¨**: ç¼“å­˜ç»“æœ1å°æ—¶ï¼Œæå‡åç»­è¯·æ±‚é€Ÿåº¦

#### å‚æ•°è§„æ ¼
```json
{
  "startDate": "2024-01-01",
  "endDate": "2024-01-07",
  "category": "react",
  "minQuality": 0.5,
  "maxResults": 50,
  "format": "json",
  "includeContent": false,
  "sortBy": "relevance",
  "sources": "dev.to,hackernews"
}
```

### 2. ä¸»é¢˜æœç´¢æœåŠ¡ (search_frontend_topic)

#### åŠŸèƒ½ç‰¹æ€§
- **å¤šå¹³å°æœç´¢**: GitHub, Stack Overflow, Reddit, Dev.to
- **æ™ºèƒ½ç›¸å…³æ€§**: åŸºäºå…³é”®è¯åŒ¹é…çš„ç›¸å…³æ€§ç®—æ³•
- **æœç´¢ç±»å‹**: è®¨è®ºã€ä»“åº“ã€æ–‡ç« çš„åˆ†ç±»æœç´¢
- **ä»£ç ç‰‡æ®µ**: æå–å’Œå±•ç¤ºç›¸å…³ä»£ç å—

#### æŠ€æœ¯å®ç°
```go
type TopicSearchService struct {
    cacheManager     *cache.Manager
    collectorMgr     *collector.Manager
    processor        *processor.Processor
    formatterFactory *formatter.FormatterFactory
}
```

#### æœç´¢ç­–ç•¥
- **å¹¶å‘æœç´¢**: 3ä¸ªworker goroutineå¹¶å‘æœç´¢ä¸åŒå¹³å°
- **ç›¸å…³æ€§è®¡ç®—**: åŸºäºå…³é”®è¯å¯†åº¦å’Œä¸Šä¸‹æ–‡åŒ¹é…
- **ç»“æœèåˆ**: å¤šå¹³å°ç»“æœæ™ºèƒ½åˆå¹¶å’Œæ’åº
- **ç¼“å­˜ä¼˜åŒ–**: 30åˆ†é’Ÿç¼“å­˜ï¼Œå¹³è¡¡å®æ—¶æ€§å’Œæ€§èƒ½

#### å¹³å°é…ç½®
```go
// GitHubæœç´¢é…ç½®
"github_repos": {
    URL: "https://api.github.com/search/repositories?q=query+language:language",
    Headers: {"Accept": "application/vnd.github.v3+json"}
}

// Stack Overflowæœç´¢é…ç½®  
"stackoverflow": {
    URL: "https://api.stackexchange.com/2.3/search/advanced?q=query",
    Headers: {"User-Agent": "FrontendNews-MCP/1.0"}
}
```

### 3. çƒ­é—¨ä»“åº“æœåŠ¡ (get_trending_repositories)

#### åŠŸèƒ½ç‰¹æ€§
- **å¤šæ—¶é—´ç»´åº¦**: æ—¥ã€å‘¨ã€æœˆçƒ­é—¨ä»“åº“
- **å‰ç«¯ä¸“æ³¨**: æ™ºèƒ½è¯†åˆ«å‰ç«¯ç›¸å…³ä»“åº“
- **æ´»è·ƒåº¦åˆ†æ**: è®¡ç®—ä»“åº“æ´»è·ƒåº¦å’Œè¶‹åŠ¿åˆ†æ•°
- **åˆ†ç±»è¿‡æ»¤**: æ¡†æ¶ã€åº“ã€å·¥å…·ã€ç¤ºä¾‹åˆ†ç±»

#### æŠ€æœ¯å®ç°
```go
type TrendingReposService struct {
    cacheManager     *cache.Manager
    collectorMgr     *collector.Manager
    processor        *processor.Processor
    formatterFactory *formatter.FormatterFactory
}
```

#### è¶‹åŠ¿è®¡ç®—ç®—æ³•
```go
func (r *Repository) CalculateTrendScore() {
    score := 0.0
    
    // æ˜Ÿæ ‡æ•°è¯„åˆ† (æœ€å¤§0.4)
    if r.Stars >= 1000 {
        score += 0.4
    } else if r.Stars >= 100 {
        score += 0.3
    }
    
    // Forkæ´»è·ƒåº¦ (æœ€å¤§0.2)
    if r.Forks >= 100 {
        score += 0.2
    }
    
    // æœ€è¿‘æ›´æ–° (æœ€å¤§0.3)
    if r.IsRecentlyUpdated(7 * 24 * time.Hour) {
        score += 0.3
    }
    
    // æè¿°å®Œæ•´æ€§ (æœ€å¤§0.1)
    if r.Description != "" {
        score += 0.1
    }
    
    r.TrendScore = min(score, 1.0)
}
```

## å‚æ•°éªŒè¯å’Œé”™è¯¯å¤„ç†

### éªŒè¯å™¨æ¶æ„
```go
type Validator struct {
    dateRegex *regexp.Regexp
}

type ValidationError struct {
    Field   string `json:"field"`
    Value   string `json:"value"`
    Message string `json:"message"`
    Code    string `json:"code"`
}
```

### å®‰å…¨ç‰¹æ€§
- **è¾“å…¥æ¸…ç†**: XSSå’Œæ³¨å…¥æ”»å‡»é˜²æŠ¤
- **å‚æ•°éªŒè¯**: ç±»å‹ã€èŒƒå›´ã€æ ¼å¼éªŒè¯
- **é”™è¯¯ç»Ÿä¸€**: ç»“æ„åŒ–é”™è¯¯å“åº”
- **æ—¥æœŸé€»è¾‘**: é˜²æ­¢æœªæ¥æ—¥æœŸå’Œè¿‡é•¿èŒƒå›´

### éªŒè¯è§„åˆ™ç¤ºä¾‹
```go
// æ—¥æœŸèŒƒå›´éªŒè¯
func (v *Validator) validateDateRange(startDate, endDate string) error {
    // 1. æ ¼å¼éªŒè¯: YYYY-MM-DD
    // 2. é€»è¾‘éªŒè¯: start <= end
    // 3. èŒƒå›´éªŒè¯: <= 90å¤©
    // 4. æ—¶é—´éªŒè¯: ä¸èƒ½æ˜¯æœªæ¥
}

// æŸ¥è¯¢æ¸…ç†
func (v *Validator) SanitizeInput(input string) string {
    input = strings.ReplaceAll(input, "<", "&lt;")
    input = strings.ReplaceAll(input, ">", "&gt;")
    // ... æ›´å¤šæ¸…ç†è§„åˆ™
    return input
}
```

## ç¼“å­˜é›†æˆç­–ç•¥

### ç¼“å­˜é”®è®¾è®¡
```go
// å‘¨æŠ¥æ–°é—»
cacheKey := fmt.Sprintf("weekly_news:%s:%s:%s:%.1f:%d:%s:%s",
    period.Start, period.End, category, minQuality, maxResults, sortBy, sources)

// ä¸»é¢˜æœç´¢  
cacheKey := fmt.Sprintf("topic_search:%s:%s:%s:%s:%s:%d:%.1f",
    query, language, platform, sortBy, timeRange, maxResults, minScore)

// çƒ­é—¨ä»“åº“
cacheKey := fmt.Sprintf("trending_repos:%s:%s:%d:%d:%s:%t:%t",
    language, timeRange, minStars, maxResults, category, includeForks, frontendOnly)
```

### ç¼“å­˜ç­–ç•¥
- **å‘¨æŠ¥æ–°é—»**: 1å°æ—¶ç¼“å­˜ï¼Œå†…å®¹ç›¸å¯¹ç¨³å®š
- **ä¸»é¢˜æœç´¢**: 30åˆ†é’Ÿç¼“å­˜ï¼Œå¹³è¡¡å®æ—¶æ€§
- **çƒ­é—¨ä»“åº“**: 15åˆ†é’Ÿç¼“å­˜ï¼Œè¶‹åŠ¿å˜åŒ–è¾ƒå¿«

## å¹¶å‘å¤„ç†æœºåˆ¶

### Worker Poolæ¨¡å¼
```go
// ä¸»é¢˜æœç´¢å¹¶å‘å®ç°
func (t *TopicSearchService) searchAcrossPlatforms(ctx context.Context, params TopicSearchParams) (*multiPlatformResults, error) {
    jobs := make(chan searchJob, 10)
    numWorkers := 3
    
    for i := 0; i < numWorkers; i++ {
        wg.Add(1)
        go func() {
            defer wg.Done()
            for job := range jobs {
                t.searchSinglePlatform(ctx, job.platform, job.config, params, results)
            }
        }()
    }
    
    // å‘é€æœç´¢ä»»åŠ¡
    go func() {
        defer close(jobs)
        searchConfigs := t.getSearchConfigs(params)
        for platform, config := range searchConfigs {
            jobs <- searchJob{platform: platform, config: config}
        }
    }()
    
    wg.Wait()
    return results, nil
}
```

### çº¿ç¨‹å®‰å…¨è®¾è®¡
```go
type multiPlatformResults struct {
    Articles     []models.Article
    Repositories []models.Repository
    Discussions  []Discussion
    mu           sync.Mutex
}

func (m *multiPlatformResults) addArticle(article models.Article) {
    m.mu.Lock()
    defer m.mu.Unlock()
    m.Articles = append(m.Articles, article)
}
```

## MCPå·¥å…·æ³¨å†Œ

### å·¥å…·è§„æ ¼å®šä¹‰
```go
func (h *Handler) registerWeeklyNewsTools(server *mcp.Server) error {
    return mcp.AddTool(server, &mcp.Tool{
        Name:        "get_weekly_frontend_news",
        Description: "è·å–æŒ‡å®šæ—¶é—´èŒƒå›´å†…çš„å‰ç«¯å¼€å‘èµ„è®¯å’Œæ–°é—»ï¼Œæ”¯æŒå¤šç§è¿‡æ»¤å’Œæ’åºé€‰é¡¹",
        InputSchema: mcp.ToolInputSchema{
            Type: "object",
            Properties: map[string]interface{}{
                "startDate": {
                    "type": "string",
                    "description": "å¼€å§‹æ—¥æœŸ (YYYY-MM-DDæ ¼å¼)",
                    "pattern": "^\\d{4}-\\d{2}-\\d{2}$",
                },
                // ... æ›´å¤šå‚æ•°å®šä¹‰
            },
        },
    }, h.handleGetWeeklyFrontendNews)
}
```

### ç»Ÿä¸€å¤„ç†æµç¨‹
1. **å‚æ•°è§£æ**: JSONå‚æ•°åˆ°ç»“æ„ä½“æ˜ å°„
2. **éªŒè¯**: ç»Ÿä¸€å‚æ•°éªŒè¯
3. **æœåŠ¡è°ƒç”¨**: è°ƒç”¨å¯¹åº”çš„æœåŠ¡æ–¹æ³•
4. **æ ¼å¼åŒ–**: æ ¹æ®formatå‚æ•°æ ¼å¼åŒ–è¾“å‡º
5. **é”™è¯¯å¤„ç†**: ç»Ÿä¸€é”™è¯¯å“åº”æ ¼å¼

## æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

### 1. ç¼“å­˜ä¼˜åŒ–
- **å¤šå±‚ç¼“å­˜**: å†…å­˜ç¼“å­˜ + å¯é€‰Redisç¼“å­˜
- **ç¼“å­˜é¢„çƒ­**: åå°å®šæ—¶ä»»åŠ¡é¢„åŠ è½½çƒ­é—¨æ•°æ®
- **TTLç­–ç•¥**: æ ¹æ®æ•°æ®å˜åŒ–é¢‘ç‡è®¾ç½®ä¸åŒè¿‡æœŸæ—¶é—´

### 2. å¹¶å‘ä¼˜åŒ–
- **è¿æ¥æ± **: HTTPå®¢æˆ·ç«¯è¿æ¥å¤ç”¨
- **å·¥ä½œæ± **: é™åˆ¶å¹¶å‘æ•°é‡ï¼Œé¿å…èµ„æºè€—å°½
- **è¶…æ—¶æ§åˆ¶**: é˜²æ­¢æ…¢è¯·æ±‚é˜»å¡ç³»ç»Ÿ

### 3. æ•°æ®å¤„ç†ä¼˜åŒ–
- **æµå¼å¤„ç†**: å¤§æ•°æ®é›†åˆ†æ‰¹å¤„ç†
- **ç´¢å¼•ä¼˜åŒ–**: å…³é”®å­—æ®µå»ºç«‹ç´¢å¼•
- **ç®—æ³•ä¼˜åŒ–**: ç›¸å…³æ€§è®¡ç®—å’Œæ’åºç®—æ³•ä¼˜åŒ–

## ç›‘æ§å’Œæ—¥å¿—

### æ—¥å¿—ç­–ç•¥
```go
log.Printf("æˆåŠŸè·å–å‘¨æŠ¥æ–°é—» %d ç¯‡ï¼ŒæœŸé—´: %s åˆ° %s", 
    len(filteredArticles), period.Start.Format("2006-01-02"), period.End.Format("2006-01-02"))

log.Printf("ä»ç¼“å­˜è¿”å›ä¸»é¢˜æœç´¢ç»“æœ: %s", params.Query)

log.Printf("å¤„ç†GitHub Trending API")
```

### æŒ‡æ ‡æ”¶é›†
- **è¯·æ±‚è®¡æ•°**: å„å·¥å…·è°ƒç”¨é¢‘æ¬¡
- **å“åº”æ—¶é—´**: P50, P95, P99å»¶è¿Ÿ
- **ç¼“å­˜å‘½ä¸­ç‡**: ç¼“å­˜æ•ˆç‡ç›‘æ§
- **é”™è¯¯ç‡**: å„ç§é”™è¯¯ç±»å‹ç»Ÿè®¡

## æ‰©å±•æ€§è®¾è®¡

### 1. æ–°æ•°æ®æºæ¥å…¥
```go
// æ·»åŠ æ–°çš„æ”¶é›†å™¨é…ç½®
configs["new_source"] = collector.CollectConfig{
    URL:        "https://api.newsource.com/articles",
    SourceType: "api",
    Source:     "NewSource",
    Headers:    headers,
}
```

### 2. æ–°å·¥å…·å¼€å‘
1. åˆ›å»ºæ–°çš„æœåŠ¡ç»“æ„ä½“
2. å®ç°å‚æ•°éªŒè¯è§„åˆ™
3. åœ¨Handlerä¸­æ³¨å†Œå·¥å…·
4. æ·»åŠ ç›¸åº”çš„ç¼“å­˜ç­–ç•¥

### 3. è¾“å‡ºæ ¼å¼æ‰©å±•
- æ”¯æŒXMLã€CSVç­‰æ–°æ ¼å¼
- è‡ªå®šä¹‰æ¨¡æ¿ç³»ç»Ÿ
- APIç‰ˆæœ¬æ§åˆ¶

## éƒ¨ç½²å’Œè¿ç»´

### é…ç½®ç®¡ç†
```go
type Config struct {
    CacheSize     int           `json:"cacheSize"`
    CacheTTL      time.Duration `json:"cacheTTL"`
    MaxConcurrent int           `json:"maxConcurrent"`
    Timeout       time.Duration `json:"timeout"`
    RateLimit     int           `json:"rateLimit"`
}
```

### å¥åº·æ£€æŸ¥
- **æœåŠ¡çŠ¶æ€**: å„ç»„ä»¶å¥åº·çŠ¶æ€æ£€æŸ¥
- **ä¾èµ–æ£€æŸ¥**: å¤–éƒ¨APIå¯ç”¨æ€§æ£€æµ‹
- **èµ„æºç›‘æ§**: å†…å­˜ã€CPUä½¿ç”¨ç‡ç›‘æ§

## ä¸‹ä¸€æ­¥å¼€å‘è®¡åˆ’

### çŸ­æœŸç›®æ ‡ (1-2å‘¨)
1. **é›†æˆæµ‹è¯•**: å®Œæ•´çš„ç«¯åˆ°ç«¯æµ‹è¯•
2. **é”™è¯¯å¤„ç†å®Œå–„**: æ›´ç»†ç²’åº¦çš„é”™è¯¯åˆ†ç±»
3. **æ–‡æ¡£å®Œå–„**: APIæ–‡æ¡£å’Œä½¿ç”¨ç¤ºä¾‹

### ä¸­æœŸç›®æ ‡ (1-2æœˆ)
1. **æ€§èƒ½ä¼˜åŒ–**: åŸºå‡†æµ‹è¯•å’Œæ€§èƒ½è°ƒä¼˜
2. **ç›‘æ§ç³»ç»Ÿ**: PrometheusæŒ‡æ ‡é›†æˆ
3. **é…ç½®åŠ¨æ€**: çƒ­åŠ è½½é…ç½®æ”¯æŒ

### é•¿æœŸç›®æ ‡ (3-6æœˆ)
1. **AIå¢å¼º**: å†…å®¹è´¨é‡è¯„ä¼°AIæ¨¡å‹
2. **ä¸ªæ€§åŒ–**: ç”¨æˆ·åå¥½å­¦ä¹ å’Œæ¨è
3. **å¤šè¯­è¨€**: å›½é™…åŒ–æ”¯æŒ

## æŠ€æœ¯å€ºåŠ¡å’Œé£é™©

### å·²è¯†åˆ«çš„æŠ€æœ¯å€ºåŠ¡
1. **TODOæ ‡è®°**: ä¸€äº›collectorå®ç°éœ€è¦å®Œå–„
2. **æµ‹è¯•è¦†ç›–**: éœ€è¦å¢åŠ å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
3. **é”™è¯¯æ¢å¤**: éœ€è¦æ›´å¼ºçš„å®¹é”™æœºåˆ¶

### é£é™©ç¼“è§£
1. **APIé™åˆ¶**: å®ç°é€Ÿç‡é™åˆ¶å’Œé‡è¯•æœºåˆ¶
2. **æ•°æ®æºå˜åŒ–**: å»ºç«‹ç›‘æ§å’Œå‘Šè­¦ç³»ç»Ÿ
3. **æ€§èƒ½ç“¶é¢ˆ**: å®æ–½æ€§èƒ½æµ‹è¯•å’Œç›‘æ§

## æ€»ç»“

æœ¬å·¥ä½œæµåˆ†ææ¶µç›–äº†GitHub Issue #5çš„å®Œæ•´å®ç°ï¼ŒåŒ…æ‹¬ï¼š

âœ… **å·²å®Œæˆ**:
- ä¸‰ä¸ªæ ¸å¿ƒMCPå·¥å…·å®Œæ•´å®ç°
- ç»Ÿä¸€çš„å‚æ•°éªŒè¯å’Œé”™è¯¯å¤„ç†
- MCPå·¥å…·æ³¨å†Œå’Œå¤„ç†æœºåˆ¶
- ç¼“å­˜é›†æˆå’Œæ€§èƒ½ä¼˜åŒ–ç­–ç•¥
- å¹¶å‘å¤„ç†å’Œçº¿ç¨‹å®‰å…¨è®¾è®¡

ğŸ”„ **é›†æˆçŠ¶æ€**:
- Cacheç»„ä»¶: å·²é›†æˆï¼Œæ”¯æŒTTLå’Œå¹¶å‘
- Collectorç»„ä»¶: å·²é›†æˆï¼Œæ”¯æŒå¤šæºæ•°æ®æ”¶é›†
- Processorç»„ä»¶: å·²é›†æˆï¼Œæ”¯æŒæ•°æ®å¤„ç†å’Œæ’åº
- Formatterç»„ä»¶: å·²é›†æˆï¼Œæ”¯æŒå¤šæ ¼å¼è¾“å‡º

ğŸ“‹ **å¾…å®Œå–„**:
- å…·ä½“çš„APIè°ƒç”¨å®ç°ç»†èŠ‚
- å®Œæ•´çš„é›†æˆæµ‹è¯•è¦†ç›–
- ç”Ÿäº§ç¯å¢ƒé…ç½®å’Œç›‘æ§

è¯¥å®ç°æä¾›äº†ä¸€ä¸ªå¯æ‰©å±•ã€é«˜æ€§èƒ½ã€æ˜“ç»´æŠ¤çš„MCPå·¥å…·é›†ï¼Œä¸ºå‰ç«¯å¼€å‘è€…æä¾›äº†å¼ºå¤§çš„æ–°é—»ã€æœç´¢å’Œä»“åº“å‘ç°åŠŸèƒ½ã€‚